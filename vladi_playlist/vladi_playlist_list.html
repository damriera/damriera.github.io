<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <link rel="icon" href="../images/vladi_playlist_favicon.png">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Vladi's Playlist</title>
  <link rel="stylesheet" href="list_style.css">
</head>
<body>

<main>

  <header id="hero">
    <div class="row">
      <img src="../images/KC_logo.png" alt="Logo">
      <h1>Vladi's playlist</h1>
    </div>
      <p class="subtitle">Click on the songs to open them on Spotify</p>
  </header>

  <div class="playlist" id="playlist"></div>
</main>

<script>
  // Fetch the JSON file
  fetch('playlist.json')
    .then(response => response.json())
    .then(data => {
      const playlistContainer = document.getElementById('playlist');

      // Create the wrapper <div class="link-list">
      const linkList = document.createElement('div');
      linkList.className = 'link-list';

      data.songs.forEach(song => {
        // Create the <a> element
        const linkItem = document.createElement('a');
        linkItem.className = 'link-item';
        linkItem.href = song.url;
        linkItem.target = '_blank';
        linkItem.rel = 'noopener';
        linkItem.setAttribute('aria-label', `${song.title} by ${song.artist}`);

        // Build the inner content (icon + album cover + text)
        linkItem.innerHTML = `
          <i class="fa-solid fa-music"></i>
          <span style="display: inline-flex; align-items: center;">
            <img src="${song.album_cover_url}" alt="Album cover" style="height: 2em; margin-right: 0.8em; vertical-align: middle;">
            ${song.title} â€” ${song.artist}
          </span>
        `;

        // Append each item to the list
        linkList.appendChild(linkItem);
      });

      // Append the list to the container
      playlistContainer.appendChild(linkList);
    })
    .catch(error => console.error('Error loading JSON:', error));
</script>


</body>
</html>
